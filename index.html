<!DOCTYPE html>
<html lang="id">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fasus Checker</title>

<style>

body{
    margin:0;
    font-family: Arial, sans-serif;
    background:url("background.jpg") no-repeat center center fixed;
    background-size:cover;
}

/* overlay gelap */
.overlay{
    position:relative;
    width:100%;
    height:100vh;
    background:rgba(0,0,0,0.55);
}

/* logo ut school kanan atas */
.logo-ut{
    position:absolute;
    top:20px;
    right:30px;
    height:40px;
}

/* logo insani bawah tengah */
.logo-insani{
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    height:45px;
}

/* container tengah */
.center-container{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    color:white;
}

/* judul */
.title{
    font-size:48px;
    font-weight:bold;
    margin-bottom:20px;
    letter-spacing:1px;
}

/* search container */
.search-wrapper{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:10px;
}

/* input */
#searchInput{
    width:300px;
    padding:12px;
    font-size:16px;
    border:none;
    border-radius:4px;
}

/* button */
button{
    padding:12px 20px;
    font-size:16px;
    font-weight:bold;
    background:#ffc107;
    color:black;
    border:none;
    border-radius:4px;
    cursor:pointer;
}

button:hover{
    background:#e0a800;
}

/* suggestion box */
.suggestions{
    position:absolute;
    width:300px;
    background:white;
    color:black;
    text-align:left;
    border-radius:4px;
    margin-top:5px;
    max-height:200px;
    overflow-y:auto;
}

.suggestion-item{
    padding:10px;
    cursor:pointer;
}

.suggestion-item:hover{
    background:#eee;
}

</style>

</head>
<body>

<div class="overlay">

<!-- logo kanan atas -->
<img src="logo-ut.png" class="logo-ut">

<!-- tengah -->
<div class="center-container">

<div class="title">
CEK BUDGET FASUS
</div>

<div class="search-wrapper">

<div style="position:relative;">

<input
type="text"
id="searchInput"
placeholder="Masukkan nama fasus"
autocomplete="off"
>

<div id="suggestions" class="suggestions"></div>

</div>

<button onclick="checkCompany()">
Check
</button>

</div>

</div>

<!-- logo bawah -->
<img src="logo-insan.png" class="logo-insani">

</div>

<script>

/* GANTI LINK INI */
const CSV_URL="SPREADSHEET_CSV_URL";

let companies=[];

const input=document.getElementById("searchInput");
const suggestions=document.getElementById("suggestions");

/* load csv */
fetch(CSV_URL)
.then(res=>res.text())
.then(text=>{

const rows=text.split("\n");

const set=new Set();

for(let i=1;i<rows.length;i++){

const cols=rows[i].split(",");

const company=cols[0];

if(company){
set.add(company.trim());
}

}

companies=Array.from(set).sort();

});

/* auto suggestion */
input.addEventListener("input",function(){

const value=this.value.toLowerCase();

suggestions.innerHTML="";

if(!value)return;

const filtered=companies.filter(c=>
c.toLowerCase().includes(value)
);

filtered.forEach(company=>{

const div=document.createElement("div");

div.className="suggestion-item";

div.innerText=company;

div.onclick=function(){

input.value=company;

suggestions.innerHTML="";

};

suggestions.appendChild(div);

});

});

/* redirect */
function checkCompany(){

const company=input.value.trim();

if(!company){

alert("Masukkan nama perusahaan");

return;

}

window.location.href=
"fasus-dashboard.html?company="+encodeURIComponent(company);

}

</script>

</body>
</html>
